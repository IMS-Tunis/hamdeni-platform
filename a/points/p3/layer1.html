<!DOCTYPE html>
<html>
<head>
  <title>Layer 1</title>
  <link rel="stylesheet" href="../dashboard.css">
</head>
<body>
  <div class="header">Layer 1 - Theory</div>
  <iframe id="doc-frame" src="doc.html" width="100%" scrolling="no" style="border:none;"></iframe>
  <div style="text-align: center; margin: 20px;">
    <a href="layer2.html"><button>Next â†’ Layer 2</button></a>
  </div>
  <script>
    const frame = document.getElementById('doc-frame');

    function adjustHeight(height) {
      if (!height) {
        try {
          const doc = frame.contentDocument || frame.contentWindow.document;
          height = doc.body.scrollHeight;
        } catch (_) {
          return; // cross-origin, wait for postMessage
        }
      }
      if (frame.style.height !== height + 'px') {
        frame.style.height = height + 'px';
      }
    }

    frame.addEventListener('load', () => adjustHeight());
    window.addEventListener('resize', () => adjustHeight());

    window.addEventListener('message', (e) => {
      if (e.data && e.data.type === 'docHeight') {
        adjustHeight(e.data.height);
      }
    });
  </script>
</body>
</html>